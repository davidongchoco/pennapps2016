{% extends "navbar.html" %}

{% block cards %}
      
<!-- Cards -->
<div class="container">
  <form action="" method="post">
  <div class="row">
    <div class="col s10 offset-s1">
      <div class="card">
        <div class="card-content center-align">
          <span class="card-title">Travel Distance - One Way (mi)</span>
          <div class="row">
            <div class="input-field col s2 offset-s3">
              {{ form.distanceLow(class_="center-align") }}
            </div>
            <div class="to col s2"><p class="center-align"> to </p></div>
            <div class="input-field col s2">
            {{ form.distanceHigh(class_="center-align") }}
            </div>       
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col s10 offset-s1">
      <div class="card">
        <div class="card-content center-align">
          <span class="card-title">Food Price Range Per Person</span>
          <div class="row">
            <div class="input-field col s2 offset-s2">
              {{ form.oneDollar }}
              <label for="oneDollar">$</label>
            </div>
            <div class="input-field col s2">
              {{ form.twoDollar }}
              <label for="twoDollar">$$</label>
            </div>
            <div class="input-field col s2">
              {{ form.threeDollar }}
              <label for="threeDollar">$$$</label>
            </div>
            <div class="input-field col s2">
              {{ form.fourDollar }}
              <label for="fourDollar">$$$$</label>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col s10 offset-s1">
      <div class="card">
        <div class="card-content center-align">
          <div class="row">
            <span class="card-title">Number of Friends</span>
          </div>
          <div class="row">
            <div class="input-field col s2 offset-s5">
                {{ form.numFriends(class_="center-align") }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row"> 
    <button id="submit-button" class="btn waves-effect waves-light col s2 offset-s5" type="submit" name="action">Submit
      <i class="material-icons right">send</i>
    </button>
  </div>
</form>
</div>

<script type="text/javascript">
  
  window.onload = function() {
    var startPos;
    var geoSuccess = function(position) {
      startPos = position;
      var lat = startPos.coords.latitude;
      var long = startPos.coords.longitude;
      console.log("HERE");
        $.getJSON($SCRIPT_ROOT + '/_location_data', {
          a: lat,
          b: long
        }, function(data) {
          console.log("HI", data.result);
        });
      console.log("FINISHED");
    };
    navigator.geolocation.getCurrentPosition(geoSuccess);

};

</script>

{% endblock %}
